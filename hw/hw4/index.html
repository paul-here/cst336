<!DOCTYPE html>
<html>

<head>
    <title> Pixabay API Demo </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>
        body {
            text-align: center;
        }

        img {
            border-radius: 20px;
            padding: 15px;
        }

        .favorite {
            cursor: pointer;
        }
    </style>
    <script>
        /* global $ */


        function attribute(link, name) {

            $("#attribution").html("Photo by <a href='" +
                link +
                "?utm_source=keyword_image_search&utm_medium=referral'>" +
                name +
                "</a> on <a href='https://unsplash.com/?utm_source=your_app_name&utm_medium=referral'>Unsplash</a>");
        }

        function searchImage() {

            $.ajax({
                method: "GET",
                url: "api/unsplashProxy.php",
                dataType: "json",
                data: { "q": $("#keyword").val() },
                success: function(data, status) {
                    
                    $("#results").attr("src", data[0]);
                    $("#results").attr("alt", data[1]);
                    attribute(data[2], data[3]);
                }
            }); // ajax 

        } // searchImage()
    </script>
</head>

<body>

    <h1> Unsplash Image Search </h1>
    Keyword: <input type="text" id="keyword" />
    <button onclick="searchImage()"> Search </button>
    <br /><br />

    <div id="image">
        <img src="" id="results" alt=""/>
    </div>

    <div id="attribution"></div>

</body>

</html>
